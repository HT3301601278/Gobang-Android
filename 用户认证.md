# 用户认证

## RESTful API 接口

### 1. 用户注册

- **请求方式**: POST
- **接口地址**: `/auth/register`
- **请求头**:
  ```
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "username": "用户名",
    "email": "电子邮箱",
    "password": "密码",
    "nickname": "昵称"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "注册成功",
    "userId": "用户ID"
  }
  ```

### 2. 用户登录

- **请求方式**: POST
- **接口地址**: `/auth/login`
- **请求头**:
  ```
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "username": "用户名",
    "password": "密码"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "token": "JWT令牌",
    "user": {
      "userId": "用户ID",
      "username": "用户名",
      "nickname": "昵称",
      "email": "电子邮箱",
      "avatar": "头像URL"
    }
  }
  ```

### 3. 用户登出

- **请求方式**: POST
- **接口地址**: `/auth/logout`
- **请求头**:
  ```
  Authorization: Bearer {token}
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "成功登出"
  }
  ```

### 4. 忘记密码 - 发送验证码

- **请求方式**: POST
- **接口地址**: `/auth/forgot-password`
- **请求头**:
  ```
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "email": "注册邮箱"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "验证码已发送到您的邮箱"
  }
  ```

### 5. 重置密码

- **请求方式**: POST
- **接口地址**: `/auth/reset-password`
- **请求头**:
  ```
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "email": "注册邮箱",
    "code": "验证码",
    "newPassword": "新密码"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "密码重置成功"
  }
  ```

### 6. 修改密码 - 发送验证码

- **请求方式**: POST
- **接口地址**: `/auth/change-password`
- **请求头**:
  ```
  Authorization: Bearer {token}
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "email": "当前用户邮箱"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "验证码已发送到您的邮箱"
  }
  ```

### 7. 确认修改密码

- **请求方式**: PUT
- **接口地址**: `/auth/change-password`
- **请求头**:
  ```
  Authorization: Bearer {token}
  Content-Type: application/json
  ```
- **请求体**:
  ```json
  {
    "code": "验证码",
    "newPassword": "新密码"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "message": "密码修改成功"
  }
  ```
